<!-- This is single post layout -->
  <!DOCTYPE html>
<html lang="en">
<html prefix="og: http://ogp.me/ns#">
  <head>
    <meta charset="utf-8">
    
    <title>Pranala &middot; Using VPN Gate with OpenVPN on Ubuntu 14.04</title>
	
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Pranala is the home site of Sindhu Kurnia, tinkerer wannabe, casual coder and math lover.">
    <meta name="keywords" content="tutorial, openwrt,linux, ham radio, jekyll, github">
    <meta name="author" content="Sindhu Kurnia">
    <meta name="robots" content="all">
    <link rel="shortcut icon" href='favicon.ico'>
<!-- OpenGraph Meta tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:creator" content="@prnla">
    <meta property="og:type" content="website">
    <meta property="og:url" content="http://prana.la">
    <meta property="og:title" content="Pranala">
    <meta property="og:description" content="Pranala is the home site of Sindhu Kurnia, tinkerer wannabe, casual coder and math lover.">

<!-- End of OpenGraph Meta tags -->

    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
<!-- Optional theme -->
    <link rel="stylesheet" href="/css/bootstrap-theme.min.css">
<!-- Latest compiled and minified JavaScript -->
    <script src="js/bootstrap.min.js"></script>
<!-- Font Awesome CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
<!-- Our theme CSS -->
     <link href="/css/styles.min.css" rel="stylesheet">
<!-- Syntax highlighter -->
     <link href="/css/syntax.css" rel="stylesheet">

<!-- not-required anymore on Bootstrap 3
    <link href="/css/bootstrap-responsive.css" rel="stylesheet"> -->

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></sc\
ript>
    <![endif]-->
  <!-- Google analytics script -->
 
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-37808923-4', 'auto');
  ga('send', 'pageview');
</script>

<!-- End of Google analytics script -->


  </head>

  <body>
	<nav class="navbar navbar-inverse navbar-fixed-top"> 
	<div class="container">
	<a class="navbar-brand brand" href="http://prana.la"><i class="fa fa-home"></i>&nbsp;Pranala</a>
	</div>
 	</nav>
 
    <div class="container">



  <div class="row">
    <div class="col-md-9">
<!-- The Post Header -->
	<div class="page-header">
    	  <span class="glyphicon glyphicon-calendar"></span> 28 April 2015
	  <h1 class="">Using VPN Gate with OpenVPN on Ubuntu 14.04</h1>
	</div><!-- end page-header --> 
<!-- The Content -->
	<p><a href="http://prn.la/1J5Lhsc">VPN Gate - Public Free VPN Cloud by Univ of Tsukuba, Japan</a> is a great free VPN service. But it seems lack support and how to’s documentation on how to use this VPN service with <a href="https://openvpn.net/">OpenVPN</a> on Linux platform. After a bit tweaking around finally I can connect my Ubuntu desktop through VPN here is how to do it, first get these packages installed:</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh">sudo apt-get update
sudo apt-get install libpkcs11-helper1 easy-rsa resolvconf openvpn</code></pre></div>

<p>You may get some <code>packages already installed</code> notification it’s okay, make sure you met all dependencies required.</p>

<p>Now get OpenVPN config (*.ovpn) file from VPN Gate site, put it somewhere inside your home directory then try run this command:</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh">sudo openvpn --config your-openvpn-config.ovpn</code></pre></div>

<p>If you got DNS resolv issue, refresh your web browser cache, or relaunch your browser. If DNS problem still persist, check your <code>/etc/resolv.conf</code> file and make sure you have <code>nameserver</code> entry that pointing to the VPN service DNS, if the entry is not found then we have to put it. Remember you can not edit the <code>/etc/resolv.conf</code> and put the entry directly, since the file is auto-generated and will be overwritten time to time by Ubuntu network manager application.</p>

<p>What you need to do is add following lines to the bottom of your <code>.ovpn</code> configuration file:</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh">up /etc/openvpn/update-resolv-conf
down /etc/openvpn/update-resolv-conf</code></pre></div>

<p>Then reinvoke openvpn client, now with additional parameter <code>--script-security 2</code> to allow user script above being executed:</p>

<div class="highlight"><pre><code class="language-sh" data-lang="sh">openvpn --script-security <span class="m">2</span> --config your-openvpn-config.ovpn</code></pre></div>

<p>Check again your <code>/etc/resolv.conf</code> check for new <code>nameserver</code> entry that should be our VPN service DNS, your problem should be solved.</p>

<p><span class="label label-success"><i class="fa fa-info-circle"></i> Notes:</span> By far I’m  still having difficulties to setup VPN connection using Ubuntu network manager applet the simptoms as described here <a href="http://prn.la/1JwPbxO">network manager - Configure VPN… is greyed out and I cannot edit my VPN settings - Ask Ubuntu</a>, Ubuntu network manager VPN config can not parse .ovpn file. It requires you to extract certificate section into three files they are <code>ca.crt</code> <code>client.crt</code> <code>client.key</code> before you can save VPN setting.</p>


<!-- Post meta section -->
        <p class="meta text-muted">
          
  

<span class="fa fa-user"></span> <span class="byline author vcard" itemprop="author" itemscope itemtype="http://schema.org/Person">Posted by <span class="fn" itemprop="name">Sindhu Kurnia</span></span>
 |
          












<span class="fa fa-calendar"></span> <time datetime="2015-04-28T02:01:20+00:00"  data-updated="true" itemprop="datePublished dateCreated">2015-04-28 02:01:20 +0000</time> | 
          

<span class="fa fa-tags"></span>&nbsp;
<span class="categories">
  
    <a class='label label-success' href='/categories/linux/'>linux</a>
  
</span>




        </p>
<!-- Comments section -->
  	
<div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'prnla'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


    </div> <!-- end col-md-9 -->
    <div class="col-md-3">
        <!--Promo -->
<section class="panel panel-default">
  <div class="panel-heading panel-heading-custom">
    <h3 class="panel-title"><strong>Powered by Jekyll</strong><span class="fa fa-info-circle fa-lg pull-right"></span> </h3></div>
<div class="panel-body">
<img src="http://prana.la/images/logo.png" alt="hubpress" class="img-responsive center-block" />
<p></p>
This is my self-learning project on how to create pure <a style="color:#ffd526" href="http://jekyllrb.com"><strong>Jekyll</strong></a> and <a style="color:#ffd526" href="http://getbootstrap.com"><strong>Twitter Bootstrap 3</strong></a> powered blog aware static site, theme inspired by <a style="color:#ffd526" href="http://kaworu.github.io/octostrap3/"><strong>Octostrap3</strong></a>.
<p></p>
<a class="btn btn-default pull-right" href="https://github.com/kurnias/kyllstrap">
  <i class="fa fa-github fa-lg"></i> Fork me</a>
</div>
</section>
<!-- End Promo -->

<!-- Recent Post Sidebar -->
<section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  <div class="list-group">
  
    <!-- make list-group-item active on selected single post -->	
    <a href="/2015/09/20/migrasi-ke-windows-10/" class="list-group-item ">Migrasi ke Windows 10</a>
  
    <!-- make list-group-item active on selected single post -->	
    <a href="/2015/05/21/launching-chrome-from-docky-on-ubuntu/" class="list-group-item ">Launching Chrome from docky on Ubuntu</a>
  
    <!-- make list-group-item active on selected single post -->	
    <a href="/2015/05/05/setup-google-cloud-print-with-ubuntu/" class="list-group-item ">Setup Google Cloud Print with Ubuntu</a>
  
    <!-- make list-group-item active on selected single post -->	
    <a href="/2015/05/01/cara-install-android-adb-di-linux/" class="list-group-item ">Cara install Android ADB di Linux</a>
  
    <!-- make list-group-item active on selected single post -->	
    <a href="/2015/04/28/vpngate-openvpn-with-ubuntu-14-04/" class="list-group-item active">Using VPN Gate with OpenVPN on Ubuntu 14.04</a>
  
  </div>
</section>
<!-- End Recent Post Sidebar -->


<!-- Categories Sidebar 
Taken from http://kaworu.github.io/octostrap3/blog/2013/10/03/category-list-aside/
site.category_dir replaced with site.category_archive.path in _config.yml
-->
<section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Categories</h3>
  </div>
  <div class="list-group">
    
    
    <a class="list-group-item " href="http://prana.la/categories/octopress/index.html">
        <span class="badge">6</span>
        octopress
      </a>
    
    
    <a class="list-group-item " href="http://prana.la/categories/aprx/index.html">
        <span class="badge">1</span>
        aprx
      </a>
    
    
    <a class="list-group-item " href="http://prana.la/categories/ham-radio/index.html">
        <span class="badge">6</span>
        ham radio
      </a>
    
    
    <a class="list-group-item " href="http://prana.la/categories/openwrt/index.html">
        <span class="badge">2</span>
        openwrt
      </a>
    
    
    <a class="list-group-item " href="http://prana.la/categories/linux/index.html">
        <span class="badge">10</span>
        linux
      </a>
    
    
    <a class="list-group-item " href="http://prana.la/categories/lifelog/index.html">
        <span class="badge">3</span>
        lifelog
      </a>
    
    
    <a class="list-group-item " href="http://prana.la/categories/rtl-sdr/index.html">
        <span class="badge">8</span>
        rtl-sdr
      </a>
    
    
    <a class="list-group-item " href="http://prana.la/categories/github/index.html">
        <span class="badge">3</span>
        github
      </a>
    
    
    <a class="list-group-item " href="http://prana.la/categories/woocommerce/index.html">
        <span class="badge">2</span>
        woocommerce
      </a>
    
    
    <a class="list-group-item " href="http://prana.la/categories/bugfix/index.html">
        <span class="badge">4</span>
        bugfix
      </a>
    
    
    <a class="list-group-item " href="http://prana.la/categories/jekyll/index.html">
        <span class="badge">4</span>
        jekyll
      </a>
    
    
    <a class="list-group-item " href="http://prana.la/categories/review/index.html">
        <span class="badge">4</span>
        review
      </a>
    
  </div>
</section>

<!-- End Categories Sidebar -->


    </div><!-- end col-md-3 -->
  </div><!-- end row -->
<!-- Footer section -->
	    </div>
  </body>
      <div class="container">
        <p class="text-muted">&copy; 2015 crafted with &#10084; by Sindhu Kurnia
          powered by <a href="http://jekyllrb.com" target="_blank" title="Powerful Static Web Generator">Jekyll</a>
          and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>
	</p>
      </div>
</html>



